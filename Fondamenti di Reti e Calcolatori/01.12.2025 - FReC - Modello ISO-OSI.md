# Modello ISO-OSI e TCP/IP

## Il Modello ISO-OSI

Il modello **ISO-OSI** (Open Systems Interconnection) è uno standard di riferimento che descrive come diversi sistemi di comunicazione possono interoperare. È stato sviluppato dall'ISO (International Organization for Standardization) ed è diviso in **7 livelli**, ognuno con funzioni specifiche.

### I 7 Livelli (dal basso verso l'alto)

#### 1. Livello Fisico (Physical Layer)
- **Funzione**: Trasmissione di bit grezzi sul mezzo fisico
- **Caratteristiche**: 
  - Definisce specifiche elettriche, meccaniche e funzionali
  - Gestisce la modulazione del segnale
  - Si occupa della sincronizzazione dei bit
- **Esempi**: Cavi Ethernet, fibra ottica, onde radio, specifiche elettriche

#### 2. Livello Collegamento Dati (Data Link Layer)
- **Funzione**: Gestisce la comunicazione tra nodi adiacenti
- **Caratteristiche**:
  - Rilevamento e correzione errori
  - Controllo di flusso
  - Indirizzamento fisico (MAC address)
  - Suddiviso in due sottolivelli:
    - **MAC** (Medium Access Control): Accesso al mezzo condiviso
    - **LLC** (Logical Link Control): Controllo logico del collegamento
- **Esempi**: Ethernet, Wi-Fi (IEEE 802.11), PPP, Frame Relay

#### 3. Livello Rete (Network Layer)
- **Funzione**: Instradamento dei pacchetti attraverso la rete
- **Caratteristiche**:
  - Indirizzamento logico (IP address)
  - Routing tra reti diverse
  - Frammentazione e riassemblaggio dei pacchetti
- **Protocollo principale**: **IP** (Internet Protocol)
- **Altri protocolli**: ICMP, ARP, IGMP

#### 4. Livello Trasporto (Transport Layer)
- **Funzione**: Trasferimento affidabile end-to-end dei dati
- **Caratteristiche**:
  - Controllo di flusso
  - Correzione errori
  - Segmentazione e riassemblaggio
  - Multiplexing delle connessioni
- **Protocolli**:
  - **TCP** (Transmission Control Protocol): Affidabile, orientato alla connessione
  - **UDP** (User Datagram Protocol): Non affidabile, senza connessione

#### 5. Livello Sessione (Session Layer)
- **Funzione**: Gestisce e mantiene le sessioni di comunicazione
- **Caratteristiche**:
  - Stabilimento, mantenimento e terminazione delle sessioni
  - Sincronizzazione
  - Gestione del dialogo (half-duplex, full-duplex)
- **Esempi**: NetBIOS, RPC

#### 6. Livello Presentazione (Presentation Layer)
- **Funzione**: Traduce i dati tra formati diversi
- **Caratteristiche**:
  - Codifica e decodifica dei dati
  - Cifratura e decifratura
  - Compressione e decompressione
- **Esempi**: SSL/TLS, JPEG, MPEG, ASCII

#### 7. Livello Applicazione (Application Layer)
- **Funzione**: Fornisce servizi di rete alle applicazioni utente.
- **Caratteristiche**:
  - Interfaccia diretta con le applicazioni
  - Servizi di rete specifici
- **Protocolli**: HTTP, HTTPS, FTP, SMTP, DNS, SSH, Telnet

---

## Il Modello TCP/IP

Il modello **TCP/IP** (Internet Protocol Suite) è il modello realmente implementato in Internet. È più semplice e pratico del modello ISO-OSI, con **4 livelli**.

### I 4 Livelli TCP/IP

#### 1. Livello Accesso alla Rete (Network Access/Link Layer)
- **Corrispondenza OSI**: Fisico + Collegamento Dati (livelli 1-2)
- **Funzione**: Gestisce la trasmissione fisica e l'accesso al mezzo
- **Caratteristiche**:
  - Indirizzamento fisico (MAC)
  - Trasmissione dei frame
  - Rilevamento errori
- **Tecnologie**: Ethernet, Wi-Fi, PPP, Token Ring

#### 2. Livello Internet
- **Corrispondenza OSI**: Rete (livello 3)
- **Funzione**: Gestisce l'indirizzamento e il routing dei pacchetti
- **Protocollo principale**: **IP** (IPv4/IPv6)
- **Caratteristiche**:
  - Indirizzamento logico
  - Instradamento tra reti
  - Frammentazione dei pacchetti
- **Altri protocolli**:
  - **ICMP** (Internet Control Message Protocol): Messaggi di errore e diagnostica
  - **ARP** (Address Resolution Protocol): Risoluzione indirizzi IP → MAC
  - **IGMP** (Internet Group Management Protocol): Gestione multicast

#### 3. Livello Trasporto
- **Corrispondenza OSI**: Trasporto (livello 4)
- **Funzione**: Comunicazione end-to-end tra processi
- **Protocolli**:
  
  **TCP (Transmission Control Protocol)**:
  - Connection-oriented (three-way handshake)
  - Affidabile: controllo errori, ritrasmissione
  - Sequenziamento dei pacchetti
  - Controllo di flusso e congestione
  - Overhead maggiore
  - Usato per: HTTP, HTTPS, FTP, SMTP, SSH
  
  **UDP (User Datagram Protocol)**:
  - Connectionless
  - Non affidabile: nessuna garanzia di consegna
  - Veloce, basso overhead
  - Usato per: DNS, DHCP, streaming video, VoIP, gaming online

#### 4. Livello Applicazione
- **Corrispondenza OSI**: Sessione + Presentazione + Applicazione (livelli 5-6-7)
- **Funzione**: Fornisce servizi e protocolli per le applicazioni
- **Protocolli principali**:
  - **HTTP/HTTPS**: Navigazione web
  - **FTP**: Trasferimento file
  - **SMTP**: Invio email
  - **POP3/IMAP**: Ricezione email
  - **DNS**: Risoluzione nomi di dominio
  - **SSH**: Accesso remoto sicuro
  - **DHCP**: Assegnazione automatica indirizzi IP
  - **Telnet**: Accesso remoto (non sicuro)

---

## Confronto ISO-OSI vs TCP/IP

| Caratteristica | ISO-OSI | TCP/IP |
|----------------|---------|--------|
| **Numero livelli** | 7 | 4 |
| **Natura** | Modello teorico di riferimento | Modello pratico implementato |
| **Sviluppo** | ISO (anni '80) | DARPA (anni '70) |
| **Livelli superiori** | Separati (Sessione, Presentazione, Applicazione) | Unificati in Applicazione |
| **Livelli inferiori** | Separati (Fisico, Data Link) | Unificati in Accesso alla Rete |
| **Utilizzo** | Standard di riferimento teorico | Standard de facto per Internet |
| **Flessibilità** | Rigido e formale | Più flessibile e pratico |

### Differenze chiave

1. **TCP/IP è più pratico**: Nato per implementare ARPANET (predecessore di Internet), mentre ISO-OSI è un modello teorico
2. **TCP/IP raggruppa i livelli**: Semplifica la struttura unificando livelli correlati
3. **TCP/IP è lo standard de facto**: Tutta Internet e la maggior parte delle reti moderne funzionano su TCP/IP
4. **ISO-OSI è didattico**: Utilizzato principalmente per comprendere le funzioni di rete in modo strutturato

---

## Esempio pratico di comunicazione

### Scenario: Visita al sito `https://www.esempio.com`

#### Stack TCP/IP in azione:

1. **Livello Applicazione**:
   - Il browser genera una richiesta HTTP GET
   - Usa HTTPS (HTTP over TLS) per la sicurezza
   - DNS risolve `www.esempio.com` → indirizzo IP

2. **Livello Trasporto**:
   - TCP stabilisce una connessione (three-way handshake):
     - Client → Server: SYN
     - Server → Client: SYN-ACK
     - Client → Server: ACK
   - I dati vengono segmentati in pacchetti TCP
   - Ogni pacchetto viene numerato per il riassemblaggio

3. **Livello Internet**:
   - IP aggiunge l'header con indirizzo sorgente e destinazione
   - I router instradano i pacchetti attraverso Internet
   - Ogni router decide il next hop migliore

4. **Livello Accesso alla Rete**:
   - Ethernet/Wi-Fi incapsula i pacchetti IP in frame
   - I frame vengono trasmessi fisicamente (bit sul mezzo)
   - Gli switch inoltrano i frame basandosi sul MAC address

#### Flusso completo:

```
Browser (HTTP) 
    ↓
TCP (porta 443)
    ↓
IP (indirizzamento)
    ↓
Ethernet/Wi-Fi (trasmissione fisica)
    ↓
Router → Router → Router
    ↓
Ethernet/Wi-Fi (destinazione)
    ↓
IP (deincapsulamento)
    ↓
TCP (riassemblaggio)
    ↓
Server Web (HTTP)
```

### Incapsulamento dei dati

Ogni livello aggiunge il proprio header:

```
[Dati Applicazione]
    ↓
[Header TCP | Dati] = Segmento
    ↓
[Header IP | Header TCP | Dati] = Pacchetto
    ↓
[Header Ethernet | Header IP | Header TCP | Dati | Trailer] = Frame
```

---

## Conclusioni

- **ISO-OSI** è fondamentale per comprendere teoricamente come funzionano le reti
- **TCP/IP** è il modello implementato nella pratica e su cui si basa Internet
- Ogni livello comunica solo con i livelli adiacenti
- L'incapsulamento permette l'indipendenza tra i livelli
- TCP/IP semplifica il modello OSI mantenendone le funzionalità essenziali
