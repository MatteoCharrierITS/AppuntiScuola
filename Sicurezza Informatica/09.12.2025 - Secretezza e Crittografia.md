# 09.12.2025 - Secretezza e Crittografia

## Appunti: Secretezza, Crittografia e Attacchi

### Cenni storici
- **Antichità**: Prime tecniche di crittografia (scitala spartana, cifrario di Cesare).
- **Seconda guerra mondiale**: Enigma e la sua decifrazione (Turing, Bletchley Park).
- **Età moderna**: RSA, Diffie-Hellman, crittografia usata su Internet.

---

### Tipologie di attacchi
- **Man in the Middle (MitM)**: L’attaccante si inserisce tra due interlocutori e intercetta/modifica i messaggi.
    - Esempio: furto di credenziali su WiFi pubblici.
- **Forza bruta**: Prova tutte le chiavi possibili.
- **Dizionario**: Prova parole comuni come chiavi/password.
- **Phishing**: Inganna l’utente per ottenere dati sensibili.
- **Replay attack**: Riutilizza messaggi validi per ingannare il sistema.
- **Side-channel**: Sfrutta informazioni indirette (es. tempi di risposta, consumo energetico).

---

### Crittografia
- **Definizione**: Tecnica per proteggere le informazioni rendendole illeggibili senza chiave.
- **Simmetrica**: Stessa chiave per cifrare/decifrare (AES, DES).
- **Asimmetrica**: Coppia chiave pubblica/privata (RSA, ECC).
- **Obiettivi**: Secretezza, integrità, autenticazione, non ripudio.

---

### Crittanalisi
- **Definizione**: Studio dei metodi per decifrare messaggi senza chiave.
- **Metodi**: Analisi statistica, attacchi noti, ricerca di debolezze.
- **Ruolo**: Testare la robustezza degli algoritmi.

---

### Criptologia
- **Definizione**: Scienza che comprende crittografia e crittanalisi.
- **Ruolo**: Studio globale della sicurezza delle informazioni.

---

### Principio di Kerckhoffs
- **Definizione**: Formulato da Auguste Kerckhoffs nel 1883, afferma che la sicurezza di un sistema crittografico deve dipendere solo dalla segretezza della chiave, non dall'algoritmo.
- **Sintesi**: Un sistema è sicuro anche se tutto il suo funzionamento è pubblico, tranne la chiave segreta.
- **Implicazioni**:
    - Gli algoritmi crittografici dovrebbero essere pubblici e analizzabili da chiunque.
    - La segretezza dell'algoritmo non è una garanzia di sicurezza.
    - La robustezza dipende dalla chiave e dalla solidità matematica dell'algoritmo.
- **Rilevanza storica**: Questo principio è alla base della moderna crittografia, dove gli algoritmi sono pubblici (es. AES, RSA) e solo la chiave è segreta.

---

### Codifica vs Crittografia
- **Codifica**: Trasformazione dei dati per renderli compatibili con un sistema (es. Base64, ASCII). Non è pensata per la sicurezza, ma per la leggibilità o trasmissione.
- **Crittografia**: Trasformazione dei dati per renderli illeggibili a chi non possiede la chiave. Obiettivo: sicurezza e riservatezza.

---

### Chiavi pubbliche, private, simmetriche e asimmetriche
- **Chiave simmetrica**: Stessa chiave usata per cifrare e decifrare (es. AES, DES). Veloce, ma la chiave deve essere condivisa in modo sicuro.
- **Chiave asimmetrica**: Coppia di chiavi: una pubblica (distribuibile) e una privata (segreta). La pubblica cifra, la privata decifra (o viceversa). Esempi: RSA, ECC.
- **Chiave pubblica**: Può essere distribuita liberamente. Serve per cifrare o verificare firme.
- **Chiave privata**: Deve restare segreta. Serve per decifrare o firmare.

---

### Fondamenti di RSA

---

### Hashing
- **Definizione**: L’hashing è un processo che trasforma un input di qualsiasi lunghezza in una stringa di lunghezza fissa (hash o digest) tramite una funzione matematica detta funzione di hash.
- **Caratteristiche delle funzioni di hash crittografiche:**
    - Deterministiche: stesso input → stesso hash.
    - Veloci da calcolare.
    - Difficili da invertire (non si risale all’input dall’hash).
    - Resistenti alle collisioni (difficile trovare due input diversi con lo stesso hash).
    - Sensibili alle modifiche (anche un piccolo cambiamento nell’input cambia drasticamente l’hash).
- **Esempi di uso:**
    - Memorizzazione sicura delle password (si salva solo l’hash, non la password vera).
    - Verifica dell’integrità dei dati (controllo che un file non sia stato modificato).
    - Firma digitale (l’hash di un messaggio viene cifrato con la chiave privata).

#### Esempio pratico in Python (SHA-256)
```python
import hashlib

# Input
password = "SuperPassword123"

# Calcolo hash
hash_object = hashlib.sha256(password.encode())
hash_hex = hash_object.hexdigest()

print("Hash SHA-256:", hash_hex)
```

Risultato (esempio):
```
Hash SHA-256: 7c1e7e2e2e2b6e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2
```

> Se cambi anche solo una lettera della password, l’hash sarà completamente diverso.

#### Esempio: verifica integrità di un file
```python
import hashlib

def file_hash(path):
    h = hashlib.sha256()
    with open(path, "rb") as f:
        for chunk in iter(lambda: f.read(4096), b""):
            h.update(chunk)
    return h.hexdigest()

print(file_hash("documento.pdf"))
```

Così puoi confrontare l’hash calcolato con quello atteso per verificare che il file non sia stato alterato.


### Riepilogo
- La sicurezza informatica si basa su algoritmi robusti, chiavi segrete e protocolli sicuri.
- La storia della crittografia è una continua sfida tra chi crea codici e chi li cerca di rompere.
- Oggi la crittografia è fondamentale per privacy, transazioni online e protezione dei dati.

